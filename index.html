<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
<link href="https://fonts.googleapis.com/css?family=Exo+2|Satisfy|Average+Sans" rel="stylesheet">

</head>

<style>

.exo {font-family: 'Exo 2', sans-serif;}
.san2 {font-family: 'Average Sans', sans-serif;}
.cursive {font-family: 'Satisfy', cursive;}

.yellow {background-color:#FBFDD1}
.grey {background-color: #F4F1E9}
.purple {background-color: #F3DDF6}
.dkPurple {color: #74459D}
.green {color: #58958E}

.title {width:100vw;height: 100vh;background: linear-gradient(to top left,#fbfdd1, #ffffcb);
        transform: skewY(-15deg);transform-origin: top left}
.titleTxt {transform: skewY(15deg);transform-origin: top left}
.titlePad {padding: 15vh 10vw 10vh 10vw;cursor: pointer;}
.fbPos {top: 90vh;right: 1vw;position: absolute;font-size:2vmax;line-height: 120%;text-align: right}
.sectionH {font-family: 'Exo 2', sans-serif;color: #74459D;margin-top:1vmax;font-size:2.5vmax;
            padding:0.5vmax 2vmax;letter-spacing: -0.1vmin;cursor: pointer;}
.sectionD {font-family: 'Average Sans', sans-serif;font-size:2vmax;padding:1vmax 2.5vmax;letter-spacing: -0.1vmin;
line-height: 130%;background-color: rgba(256, 256, 256,0.8);display: none}
.arrowD {display: none}
.topCurve {border-top-left-radius: 1vmax;border-top-right-radius: 1vmax}

@media only screen and (max-width: 600px){
  .titlePad {padding-top:30vh}
  .title {transform: skewY(-30deg)}
  .titleTxt {transform: skewY(30deg)}
}
@media only screen and (max-width: 800px){
  .fbPos {top:95vh;right:2vw}
}

#clinical {white-space:pre-line}
.navBtn {box-shadow: rgba(85, 85, 85,0.4) 2px -2px 4px;}

</style>

<body>

<!--front page-->
<div id="frontP" style="background-color:#F3DDF6;max-height: 100vh;overflow: hidden;">
    <div class="title">
      <div class="titleTxt">
        <div class="w3-container titlePad" style="font-size: 6vmax;line-height: 90%" onclick="showQPage(0)"
          title="click here to continue">  
            <div class="w3-row">
              <span class="green exo">&nbsp; Basic </span><br>
              <span class="dkPurple cursive" style="text-shadow: rgba(85, 85, 85,0.5) 2px 2px 5px;">
                Pacing Concept</span>
            </div>
            <div class="w3-row exo" style="font-size: 3.5vmax;line-height: 180%">
                
                <span style="border:#74459D 0.1vmax solid;padding: 0">
                  <span style="background-color:#74459D;color:white;padding:0vmax 0.4vmax">
                  Questions</span>
                  <span style="padding:0;color:#74459D">&</span>
                  <span style="background-color:#74459D;color:white;padding:0vmax 0.4vmax">
                   Answers</span>
                </span>
            </div>
        </div>
        <div class="w3-container san2 green fbPos">
          <a href="https://www.facebook.com/HeartRhythmBox/" style="text-decoration:none" target="_blank">
          <i class="fab fa-facebook-square fa-lg">
          </i> HeartRhythmBox
          </a>
        </div>
      </div>
    </div>
  </div>

<!--questions-->
<div id="q" style="background: linear-gradient(to top left,#fbfdd1, #ffffcb);display: none">
  
  <!--number-->
  <div id="qNo" class="w3-row grey cursive w3-center" style="font-size:4vmax;padding: 0.5vmax">
      Question 
  </div>
  <div id="demo"></div>
  <!--clinical detail-->
  <div id="clinicalH" class="w3-row sectionH">
        <span class="arrowR">&nbsp;&#9656;</span><span class="arrowD">&nbsp;&#9662;</span>
        Clinical Detail
      <div id="clinical" class="w3-container sectionD">
          
      </div>
  </div>
  
  <!--Qimage-->
  <div id="qImageH" class="w3-row sectionH">
      <span class="arrowR">&nbsp;&#9656;</span><span class="arrowD">&nbsp;&#9662;</span>
      Figure
      <div class="w3-container sectionD">
        <img id="qImage" style="width:100%;padding: 0.5vmax">
        </div>
  </div>

  <!--mainQ-->
  <div id="mainQH" class="w3-row sectionH">
      <span class="arrowR">&nbsp;&#9656;</span><span class="arrowD">&nbsp;&#9662;</span>
      The question is...
      <div id="mainQ" class="w3-container sectionD">
          </div>
  </div>

  <!--choices-->
  <div id="choicesH" class="w3-row sectionH">
      <span class="arrowR">&nbsp;&#9656;</span><span class="arrowD">&nbsp;&#9662;</span>
      Answer Options
      <div id="choices" class="w3-container sectionD">
        choices</div>
  </div>

  <!--answer-->
  <div style="padding:2vmax" class="w3-row sectionH">
      <span class="arrowR">&nbsp;&#9656;</span><span class="arrowD">&nbsp;&#9662;</span>
      The answer is...
      <div class="w3-container sectionD">
        <div id="answer" class="w3-container w3-padding exo topCurve" 
        style="background-color:#58958E;color:white;font-size:2.5vmax;">
        Answer:
        </div><br>
        <div id="exp" class="w3-container w3-padding purple san2 topCurve" style="font-size:2vmax;color:#555">
        Explaination
        </div>
        <div>  
          <img id="aImage" style="width:100%"></div>
      </div>
  </div>
  

  <div class="w3-row exo" style="font-size:1vmax;color:#878787;background-color:white;
  padding: 1vmax 1vmax 5vmax 1vmax;text-align: right">
    Basic Pacing Concept Qs&As
    <br>
    
    <a href="https://heartrhythmbox.github.io/main/" target="_blank" style="text-decoration:none;">
          <img src="box transparent.png" style="width:1.3vmax;">
          HeartRhythmBox: Main Page
    </a>
    &#9679;
    <a href="https://www.facebook.com/HeartRhythmBox" style="text-decoration:none;" target="_blank">
          <i class="fab fa-facebook-square" style="color:#2E80EC;font-size: 1.2vmax;"></i>
          FB: @HeartRhythmBox
      </a>
  
  </div>

  <!--nav bar-->
  <div class="w3-bottom w3-center w3-mobile">
    <div class="w3-bar exo w3-mobile w3-large" style="opacity: 0.9;padding: 1vmax">
      <div class="w3-bar-item w3-button w3-round grey w3-padding-small navBtn">Home</div>
      <div class="w3-bar-item w3-button w3-round grey w3-padding-small navBtn">&nbsp;&LeftAngleBracket;&nbsp;</div>
      <div id="currentQ" class="w3-bar-item w3-button w3-round grey w3-padding-small navBtn"></div>
      <div class="w3-bar-item w3-button w3-round grey w3-padding-small navBtn">&nbsp;&RightAngleBracket;&nbsp;</div>
    </div>
  </div>

</div>



</body>

<script>

var xmlData;var qNo=0;
window.onload = function() {
  enableNavBtn();
  sectionClickable()
  loadXMLDoc();
}

//get xml file
function loadXMLDoc() {
  var xml = new XMLHttpRequest();
  xml.open ('GET','QsAs.xml',false)
  xml.send();
  xmlData= xml.responseXML;
}

function enableNavBtn(){
  var btn = document.getElementsByClassName('navBtn');
  btn[0].onclick = function(){frontPage()};
  btn[1].onclick = function(){qNav(-1)};
  btn[3].onclick = function(){qNav(1)};
}

function qNav(x){
  //get total questions
  var qTotal = xmlData.getElementsByTagName('question').length
  var nextQ = qNo+x;
  
  if (nextQ<0){
    nextQ=qTotal-1
  } else if(nextQ==qTotal){
    nextQ=0;
  }
  qNo = nextQ
  showQPage(nextQ)
}

var sectionStatus = [0,0,0,0,0]
function sectionClickable(){
  var sec = document.getElementsByClassName('sectionH')
  sec[0].onclick = function(){toggleSectionD(0)}
  sec[1].onclick = function(){toggleSectionD(1)}
  sec[2].onclick = function(){toggleSectionD(2)}
  sec[3].onclick = function(){toggleSectionD(3)}
  sec[4].onclick = function(){toggleSectionD(4)}
}  

function toggleSectionD(n){
    var D = document.getElementsByClassName('sectionD')
    var arrowR = document.getElementsByClassName('arrowR')
    var arrowD = document.getElementsByClassName('arrowD')
    if (sectionStatus[n]==0){
      D[n].style.display = "block";
      arrowR[n].style.display="none"; arrowD[n].style.display = "inline" 
      sectionStatus[n]=1;
    } else {
      D[n].style.display = "none";
      arrowD[n].style.display="none"; arrowR[n].style.display = "inline" 
      sectionStatus[n]=0
      }
}



function frontPage(){
  document.getElementById('q').style.display="none"
  document.getElementById('frontP').style.display="block"
}

function showQPage(n){
  //scroll to top
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;

  //hide front page
  document.getElementById('q').style.display="block"
  document.getElementById('frontP').style.display="none"

  //reset section status
  for (var i=0;i<sectionStatus.length;i++){
    if (sectionStatus[i]==1) {
      toggleSectionD(i)
    }
  }


  //check page
  var page = n+1;
  var totalP = xmlData.getElementsByTagName('question').length

  //show current Q in qNav and qHeader
  document.getElementById('currentQ').innerHTML = '\xa0' +'Q'+ page +'\xa0' + '/' + totalP ;
  document.getElementById('qNo').innerHTML = "Question" + '\xa0' + page + '\xa0'
  
  //initially show some sections
  toggleSectionD(0);toggleSectionD(1);toggleSectionD(2)

  //create new element

  //create tags from XML
  var clinical = xmlData.getElementsByTagName("clinical")
  var qImage = xmlData.getElementsByTagName("qImage")
  var mainQ = xmlData.getElementsByTagName("mainQ")
  var choices = xmlData.getElementsByTagName("choices")
  var a = xmlData.getElementsByTagName("a");var b = xmlData.getElementsByTagName("b");
  var c = xmlData.getElementsByTagName("c");var d = xmlData.getElementsByTagName("d");
  var e = xmlData.getElementsByTagName("e");
  var answer = xmlData.getElementsByTagName("answer")
  var exp = xmlData.getElementsByTagName("exp")
  var aImage = xmlData.getElementsByTagName("aImage")

  //show clinical detail
  document.getElementById('clinical').innerHTML = clinical[n].childNodes[0].nodeValue  
  
    
  //check if there is an image
    if (qImage[n].childNodes[0].nodeValue=="NA")
      {document.getElementById('qImageH').style.display = "none"}
    else {document.getElementById('qImage').src = qImage[n].childNodes[0].nodeValue;
    }

  //
  document.getElementById('mainQ').innerHTML = mainQ[n].childNodes[0].nodeValue;
  
  document.getElementById('choices').innerHTML = (
    "A) " + a[n].childNodes[0].nodeValue + "<br/>"+
    "B) " + b[n].childNodes[0].nodeValue + "<br/>"+
    "C) " + c[n].childNodes[0].nodeValue + "<br/>"+
    "D) " + d[n].childNodes[0].nodeValue + "<br/>"+
    "E) " + e[n].childNodes[0].nodeValue)
  document.getElementById('answer').innerHTML = answer[n].childNodes[0].nodeValue;
  document.getElementById('exp').innerHTML = exp[n].childNodes[0].nodeValue;
  document.getElementById('aImage').src = aImage[n].childNodes[0].nodeValue;;

}
</script>	

</body>
</html>
